---
import NavBar from "@components/header/Header.astro";
---

<main
  class="fixed top-0 left-0 right-0 flex items-center justify-between z-30 p-2"
>
  <section class="w-full transition-opacity navbar-wrapper">
    <NavBar />
  </section>
</main>

<script>
  const navbarWrapper = document.querySelector(".navbar-wrapper")!;

  const toggleNavbarOpacity = () => {
    const isScrolledDown = window.scrollY > 30;
    navbarWrapper.classList.toggle("opaque", isScrolledDown);
  };

  window.addEventListener("scroll", toggleNavbarOpacity);
</script>

<style>
  main::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 80px;
    background: linear-gradient(to bottom, 
      rgba(224, 226, 219, 0.9), 
      rgba(224, 226, 219, 0.3), 
      transparent
    );
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border-bottom: 1px solid rgba(95, 116, 112, 0.2);
    box-shadow: 0 8px 32px rgba(95, 116, 112, 0.1);
  }

  .navbar-wrapper {
    opacity: 0;
    transform: translateY(-10px);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .navbar-wrapper.opaque {
    opacity: 1;
    transform: translateY(0);
  }
  
  @media (prefers-color-scheme: dark) {
    main::before {
      background: linear-gradient(to bottom, 
        rgba(13, 17, 23, 0.9), 
        rgba(13, 17, 23, 0.3), 
        transparent
      );
    }
  }
</style>
